var repository=function(){var t=[],o=$("#modal-container");function e(o){t.push(o)}function n(){o.removeClass("is-visible")}function i(o){$(".modal-header").empty(),$(".modal-body").empty(),$(".modal-header").append('<h5 class="modal-title"> '+o.title+' </h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">&times;</span> </button>'),$(".modal-body").append("<p> Director: "+o.director+" </p> <p> Released: "+o.release_date+"</p> <p>"+o.description+"</p>");var e=$(".carousel-control-prev"),n=$(".carousel-control-next");e.on("click",function(){var e=t.indexOf(o)-1,n=t[e];e>-1&&i(n)}),n.on("click",function(){var e=t.indexOf(o)+1,n=t[e];e<t.length&&i(n)})}return $("#modal-container").on("click",function(){n()}),$(document).keydown(function(t){"Escape"===t.key&&n()}),{add:e,loadList:function(){return $.ajax("https://ghibliapi.herokuapp.com/films",{dataType:"json"}).then(function(t){$.each(t,function(t,o){e({title:o.title,director:o.director,release_date:o.release_date,description:o.description})})})},getAll:function(){return t},closeModal:n,showDetails:i,addListItem:function(t){var o=$("#movie-list"),e=$('<li class="list-group-item"> </li>'),n=$('<button type = "button" class="btn btn-light btn-lg btn-block" data-toggle="modal" data-target="#modal-container">'+t.title+"</button>");n.on("click",function(){i(t)}),e.append(n),o.append(e)}}}();repository.loadList().then(function(){repository.getAll().forEach(repository.addListItem)}),$(document).ready(function(){$(window).scroll(function(){$(this).scrollTop()>50?$("#back-to-top").fadeIn():$("#back-to-top").fadeOut()}),$("#back-to-top").click(function(){return $("#back-to-top").tooltip("hide"),$("body,html").animate({scrollTop:0},800),!1}),$("#back-to-top").tooltip("show")}),$(document).ready(function(){$("#search-input").on("keyup",function(){var t=$(this).val().toLowerCase();$("li").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(t)>-1)})})});
